<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
* @FileName		:	BoardDAO.java
* 
* @Project		:	CLASS-IC
* @Date		    :	2017.06.19
* @Author		:	최석환
 -->

<mapper namespace="com.class_ic.dao.BoardDAO">


	<insert id="create">
		insert into LectureBoard (lectureNo, classCode, cateCode, subcateCode, lectureTitle, lectureContent)
		values(#{lectureNo}, #{classCode}, #{cateCode}, #{subcateCode}, #{lectureTitle}, #{lectureContent})
	</insert>
	

	
  	<select id="read" resultType="com.class_ic.vo.BoardVO">
		select
		lectureNo, classCode, cateCode, subcateCode, lectureTitle, lectureContent, lectureDate
		from
		LectureBoard
		where lectureNo = #{lectureNo}
	</select>
	
	
	<select id="listAll" resultType="com.class_ic.vo.BoardVO">
 
 select 
   lectureNo, classCode, cateCode, subcateCode, lectureTitle, lectureContent, lectureDate
 from 
   LectureBoard 
 where lectureNo > 0 
 order by lectureNo desc, lectureDate desc

	</select>
	
	<insert id="categoryCreate">
		insert into category (cateCode, cateTitle)
		values(#{cateCode} , 0 )
	</insert>
	
	<insert id="subCategoryCreate">
		insert into SubCategory (subcateCode, cateCode, subcateTitle)
		values(#{param1} , #{param2}, 0)
	</insert>
	
	
	<select id="showCateList" resultType="String">
		select cateCode
		from
		Category
	</select>
	
	<select id="showSubCateList" resultType="String">
		select subcateCode
		from
		SubCategory
		where cateCode= #{cateCode}
		
	</select>
	
 
</mapper>

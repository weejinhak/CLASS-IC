<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
@Project : CLASS-IC
@File name : TeacherMainDAO.xml
@Author : 박소현
@Data : 2017.07.03
@Desc :
 -->
 <mapper namespace="com.class_ic.dao.TeacherMainDAO">
 


 <!-- 강사 메인 페이지 출력: 2017.07.03 박소현 -->
<select id="teacherMain"  resultType="com.class_ic.vo.ClassDTO" parameterType="String">
   select * from class where email=#{email}
</select>

 <!-- 강사 메인 페이지 출력: 2017.07.03 위진학 -->
<select id="memberCountByTeacher"  resultType="Integer" parameterType="String">
SELECT count(m.email)
FROM  (SELECT cm.email
FROM class c JOIN classmember cm
ON   c.classCode  = cm.classCode
WHERE c.email =#{param1}) c JOIN member m
ON   c.email = m.email
</select>



</mapper>